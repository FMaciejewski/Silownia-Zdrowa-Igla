<!doctype html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <title>Siłownia Zdrowa Igła</title>
    <link rel="stylesheet" href="dist/style.css" />
    <script type="module" src="js/main.js"></script>
    <link rel="icon" href="assets/images/logo.png" type="image/x-icon" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.css">
    
  </head>
  <body>
    <header>
        <nav class="navbar">
            <div class="logging">
                
            </div>
            <div class="navbar-logo">
                <img class="logo" src="assets/images/logo.png" alt="logo">
                <h1 class="logo-name">Siłownia Zdrowa Igła</h1>
            </div>
            
            <ul class="navbar-menu">
                <li><a href="#">O nas</a></li>
                <li><a href="#trenerzy">Trenerzy</a></li>
                <li><a href="#cennik">Cennik</a></li>
                <li><a href="#calendar">Zajęcia</a></li>
                <li><a href="#kontakt">Kontakt</a></li>
            </ul>
            
        </nav>
        
    </header>
    <main>
        <section class="hero">
            <blockquote>"Najlepszy czas na zasadzenie drzewa był 20 lat temu, drugi najlepszy jest dziś"</blockquote>
        </section>
        <article class="treners">
            <h3>Nasi trenerzy</h3>
            <div id="trenerzy"></div>     
        </article>
        <div id="calendar">
        </div>
        <script src="https://uicdn.toast.com/calendar/latest/toastui-calendar.min.js"></script>
        <button onclick="addEvent()">Dodaj event</button>
        <script>
          const Calendar = tui.Calendar;

          const calendar = new Calendar('#calendar', {
            defaultView: 'week',
            usageStatistics: false,
            taskView: false,
            scheduleView: ['time'],
            template: {
              monthDayname: ({ day }) => `<span class="day-name">${day}</span>`
            }
          });

          calendar.createEvents([
            {
              id: '1',
              calendarId: '1',
              title: 'Siłka z koksem',
              category: 'time',
              start: '2025-05-10T10:30:00',
              end: '2025-05-10T12:30:00',
              color: '#fff',
              bgColor: '#e91e63',
              dragBgColor: '#e91e63',
              borderColor: '#e91e63',
              isReadOnly: false
            },
            {
              id: '2',
              calendarId: '1',
              title: 'Cardio z płaczem',
              category: 'time',
              start: '2025-05-15T14:00:00',
              end: '2025-05-15T15:00:00',
              bgColor: '#0077cc',
              borderColor: '#0077cc',
              dragBgColor: '#0077cc'
            }
          ]);

          calendar.setOptions({
            week: {
              startDayOfWeek: 1,
              visibleWeeksCount: 2,
              dayNames: ['Ndz' ,'Pon', 'Wt', 'Śr', 'Czw', 'Pt', 'Sob'],
              taskView: false,
              milestoneView: false,
            }
          });

          function addEvent() {
            const nazwa = prompt("Podaj nazwę wydarzenia:");
            calendar.createEvents([{
              id: '3',
              calendarId: '1',
              title: nazwa,
              category: 'time',
              start: '2025-05-10T12:30:00',
              end: '2025-05-10T15:30:00',
              color: '#fff',
              bgColor: '#e91e63',
              dragBgColor: '#e91e63',
              borderColor: '#e91e63',
              isReadOnly: false
            }]);
          }
        </script>
        <article class="cennik" id="cennik">
            <h2>Plany karnetów</h2>
            <div class="period">
                <div class="period-btn active" onclick="priceChange(this, '1')"></ponclick>1 miesiąc</div>
                <div class="period-btn " onclick="priceChange(this, '3')">3 miesiące</div>
                <div class="period-btn " onclick="priceChange(this, '12')">12 miesięcy</div>
            </div>
            <table>
                <tr>
                    <th>Usługa</th>
                    <th>Pakiet Normal</th>
                    <th>Pakiet Premium</th>
                    <th>Pakiet VIP</th>
                </tr>
                <tr>
                    <td>Cena</td>
                    <td id="price-normal"></td>
                    <td id="price-premium"></td>
                    <td id="price-vip"></td>
                </tr>
                <tr>
                    <td>Dostęp do siłowni </td>
                    <td>✅</td>
                    <td>✅</td>
                    <td>✅</td>
                </tr>
                <tr>
                    <td>Dostęp do siłowni 24/7</td>
                    <td>❌</td>
                    <td>✅</td>
                    <td>✅</td>
                </tr>
                <tr>
                    <td>Możliwość korzystania z sauny</td>
                    <td>❌</td>
                    <td>❌</td>
                    <td>✅</td>
                </tr>
            </table>
        </article>
        <script src="js/scripts/prices.js"></script>
           
    </main>
    <footer id="kontakt">
        <section class="footer-upper">
        <div class="footer1">
          <div class="footer-logo">
            <img class="logo" src="assets/images/logo.png" alt="logo" />
            <h1 class="logo-name">Siłownia Zdrowa Igła</h1>
          </div>
          <div class="addres">
            <p>ul. Zdrowa 1</p>
            <p>00-000 Warszawa</p>
          </div>
        </div>
        <div class="opens">
          <p>Godziny techniczne:</p>
          <p>Poniedziałek - Piątek: 3:00 - 4:00</p>
          <p>Sobota - Niedziela: 2:00 - 3:00</p>
          <p>Wszystkie zajęcia odbywają się w godzinach otwarcia siłowni</p>
        </div>
        <div class="footer2">
          <div class="social-media">
            <a href="https://www.facebook.com/" target="_blank"
              ><i class="fab fa-facebook-f"></i
            ></a>
            <a href="https://www.instagram.com/" target="_blank"
              ><i class="fab fa-instagram"></i
            ></a>
            <a href="https://www.youtube.com/" target="_blank"
              ><i class="fab fa-youtube"></i
            ></a>
            <a href="https://www.tiktok.com/" target="_blank"
              ><i class="fab fa-tiktok"></i
            ></a>
          </div>
          <div class="contact">
            <p>W razie pytań:</p>
            <p>
              <a href="mailto:silownia.zdrowa.igla@gmail.com"
                >silowniazdrowaigla@gmail.com</a
              >
            </p>
            <p><a href="tel:+48999999999">+48 999 999 999</a></p>
          </div>
        </div>
      </section>
      <div class="copyright">
        <p>Siłownia Zdrowa Igła &copy; 2023 Wszelkie prawa zastrzeżone</p>
        <p>Wykonanie: Filip Maciejewski, Adrian Cichocki</p>
      </div>
    </footer>
</body>
<script defer>
    fetch("../backend/api/session.php" , { cache: "no-store" })
    .then(response => response.json())
    .then(data => {
        const sesja = data.sesja;
        const buttons = document.querySelector('.logging');
        if(sesja !== null){
            buttons.innerHTML = `
                <a class="signin-btn" href="sites/profile.html">Profil</a>
                <a class="login-btn" href="../backend/api/logout.php">Wyloguj się</a>`;
        }
        else{
             buttons.innerHTML = `
                <a class="signin-btn" href="sites/sign-in.html">Zarejestruj się</a>
                <a class="login-btn" href="sites/log-in.html">Zaloguj się</a>`;
        }
    })

    fetch("../backend/api/trainers.php")
    .then(response => response.json())
    .then(data => {
      data.forEach(trener => {
        const trenerDiv = document.createElement('div');
        trenerDiv.classList.add('trener');
        trenerDiv.innerHTML = `
          <img src="${trener.ProfilePicture}" alt="${trener.FirstName} ${trener.LastName}" />
          <h4>${trener.FirstName} ${trener.LastName}</h4>
          <h3>${trener.Specialization}</h3>
          <p>${trener.Bio}</p>
          <p>Telefon: ${trener.PhoneNumber}</p>
          <p>Email: <a href="mailto:${trener.Email}">${trener.Email}</a></p>
          <p>Cena: ${trener.HourlyRate} zł/h</p>
        `;
        document.getElementById("trenerzy").appendChild(trenerDiv);
      });
    })
    


</script>
<script src="js/scripts/session.js"></script>
</html>